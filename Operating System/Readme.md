# 운영체제
### 프로세스,스레드가 무엇인가요?
![Untitled-5](https://user-images.githubusercontent.com/67494004/225917972-cbde23cc-a3ff-46eb-84e3-297ec565378c.png)
* 프로세스를 설명하기 이전에 프로그램의 개념부터 설명하겠습니다. 프로그램은 디스크에 저장된 실행파일 그 자체입니다. 이 프로그램을 더블클릭이나 명령어를 통해 실행하게 되면 메모리에 적재가 되고 이는 프로세스가 됩니다. 프로세스의 실행 단위를 스레드 라고 합니다.

  #### Q) 프로세스의 상태에 대해 설명해주세요.
  - new,ready,running,waiting,terminated 상태가 있습니다. 프로그램이 실행되어 프로세스를 생성중인 상태가 new, CPU에 할당되기를 기다리는 상태 ready, 실행되고 있는 상태 running, 입출력이나 다른 이벤트가 발생하기를 기다리는 상태를 waiting, 프로세스가 종료된 상태를 terminated 입니다.
    #### Q-1) Memory가 부족할 경우, Process는 어떠한 상태로 변하나요?
     - 메모리가 부족하면 프로세스가 "차단됨" 상태로 변경되어 더 많은 메모리를 사용할 수 있을 때까지 기다립니다. 이는 프로세스가 사용 가능한 것보다 더 많은 메모리를 할당하려고 시도하거나 운영 체제가 사용 가능한 리소스를 소비하는 다른 프로세스로 인해 충분한 메모리를 제공할 수 없을 때 발생할 수 있습니다. 프로세스가 충분한 메모리를 확보할 수 있으면 "준비" 상태로 다시 전환하고 실행을 계속할 수 있습니다.
    #### Q-1-1) 선점형 비선점형 시 프로세스 상태 추가 예정
    
  > Q) program → process가 될 때 운영체제가 하는 일
  - 하드웨어 . . ~~
  
    
  #### Q) Process와 Thread 의 가장 큰 차이점에 대해 설명해주세요.
  - 프로세스는 독립적인 실행 단위로 독립된 메모리 공간을 할당받습니다.
  반면 스레드는 프로세스 내의 실행단위로 타 스레드들과 자원을 공유한다는 특징이 있습니다.
    #### Q-1) 그럼 프로세스는 독립적인 실행 단위면, 서로의 자원을 공유할 수 없나요?
    - 기본적으로 각각의 프로세스는 독립된 메모리 공간을 할당받기 때문에 프로세스는 다른 프로세스의 자료에 접근할 수 없습니다. 하지만 다른 프로세스 간에 데이터를 공유하고 상호작용하기 위한 기술을 활용하면 접근할 수 있습니다. IPC 라고 부르며 공유 메모리, 메시지 큐, 파이프 등의 방식이 있습니다.
    - 공유 메모리는 메모리를 공유하여 두 개 이상의 프로세스가 데이터를 공유하는 방식입니다.
    - 메시지 큐는 메시지를 주고 받을 수 있는 큐를 통해 프로세스 간 통신을 수행하는 기법입니다.
    - 2주차에 각 방법 깊게 다룰 예정
    
  #### Q) 크롬의 탭은 프로세스일까요, 스레드일까요? explorer 의 탭도 설명해주세요.
  - `크롬의 탭은 프로세스, 익스플로러는 스레드` 입니다.
  - **프로세스는 각각 독립된 자원을 할당**받지만, **스레드는 자원을 공유**하기 때문에 한 스레드가 종료되면 같은 프로세스 내의 모든 스레드가 종료됩니다.
  
  
    - 즉, 스레드는 하나의 탭이 종료되면 다른 탭도 종료가 되기 때문에 이는 익스플로러에 해당하고
    - 프로세스는 하나의 탭이 종료되어도 다른 탭은 사용 가능하기에 이는 크롬에 해당합니다.
    - 크롬은 탭마다 PID를 가지고 있으며, 각 탭마다 랜더링 정보나 기타 데이터를 따로 관리합니다. 그로 인해 메모리를 많이 잡아먹기도 합니다.
   
   
   #### Q) 좀비 프로세스와 고아 프로세스
   - `좀비 프로세스` : **프로세스가 종료되었지만 프로세스 테이블에 여전히 실행 중**임을 나타내는 항목이 있는 프로세스 입니다.
      - 자식 프로세스가 상태 신호 없이 죽거나, 부모 프로세스가 먼저 죽은 경우입니다. 
      - 자식 프로세스가 종료되면 운영 체제는 부모 프로세스에 신호를 보내 자식 프로세스가 종료되었음을 알립니다. 
      - 그런 다음 <mark>부모 프로세스는 wait() 시스템 호출을 사용</mark>하여 자식의 종료 상태를 검색하고 프로세스 테이블에서 해당 항목을 제거합니다.
      
      
   - `고아 프로세스` : **부모 프로세스가 자식 프로세스보다 먼저 종료**되면 자식 프로세스는 부모가 없는 프로세스입니다.
      - 운영 체제는 대리 부모 역할을 하는 초기화 프로세스에 고아 프로세스를 할당
      - 그런 다음 **init 프로세스**는 wait() 시스템 호출을 사용하여 고아 프로세스를 회수하고 프로세스 테이블에서 해당 항목을 제거
   
---

### 프로세스 메모리 구조에 대해 설명해주세요.

---


### 멀티프로세스, 멀티스레드에 대해 설명해주세요. 
- 멀티프로세스란, 하나의 프로그램을 여러 개의 프로세스로 구성해서, 각 프로세스가 하나의 작업을 수행할 수 있도록 하는 작업입니다.  
- 멀티스레드란, 하나의 프로세스 안에서 두 개 이상의 스레드가 작업을 수행하는 것입니다.

  #### Q) 멀티프로세스와 멀티스레드의 각각의 장단점을 설명해주세요.
  - 멀티프로세스의 장점 : 
     - CPU의 낭비되는 시간을 줄일 수 있습니다. (CPU 사용률을 높일 수 있습니다.)
     - 하나의 프로세스가 죽더라도 다른 프로세스에 영향을 주지 않아 안정성이 높습니다.
  - 멀티스레드의 장점 : 
     - 운영체제가 시스템 자원을 효율적으로 관리할 수 있습니다.
     - 멀티 프로세스보다 적은 메모리 공간을 가집니다.
     - 프로세스를 생성하여 자원을 할당하는 시스템 콜이 줄어들어 자원을 효율적으로 관리할 수 있습니다. 
     - 프로세스 간의 통신보다 스레드 간의 통신 비용이 적으므로 작업들 간 통신의 부담이 줄어듭니다.
  - 공통적인 단점 :
    - context switching 시 오버헤드가 발생합니다.
  - 멀티프로세스의 단점 : 
  - 멀티스레드의 단점 : 
     - 동기화 문제가 발생합니다. (동기화 관리를 잘해주어야 합니다.)
     - 하나의 스레드 장애로 전체 스레드가 종료 될 위험

  #### Q) 싱글스레드와 멀티스레드의 차이를 설명해주세요.
  - 싱글스레드
     - 하나의 프로세스 안에서 하나의 스레드만 사용하는 것입니다.
     - 메인 스레드만으로 작업을 처리합니다. 스레드가 하나라서 작업을 차례대로 처리합니다. 
     - (ex) A,B 작업이 있다고 하면 A작업을 다 처리해야 B작업을 처리할 수 있습니다.
  - 멀티스레드 : 
     - 하나의 프로세스 안에서 두개 이상의 스레드를 사용하는 것입니다. 
     - 메인 스레드 외의 추가적인 스레드를 이용해서 병렬적으로 작업 처리가 가능합니다. 
     - (ex) A,B 작업이 있다고 하면 A->B->A 식으로 처리를 하는 것이 가능합니다.
  ![image](https://user-images.githubusercontent.com/76711238/226088416-530596ec-f817-4629-99e8-23f6228fd30a.png)

  - 추가 조사 : 싱글스레드와 멀티스레드의 장단점
  - 멀티스레드의 장점 
     - (1) 응답성 
        - 프로그램 일부 중단되거나 긴 작업 수행해야 하는 프로그램을 마주하더라도 프로그램 수행이 계속되어 사용자에게 응답 반환이 지속적으로 가능합니다. => 응담성이 좋습니다. 
     - (2) 경제성 
        - 프로세스 내 자원, 메모리 공유하기에 메모리 공간, 자원 소모가 줄어듭니다. 
     - (3) 병렬성 
        - CPU를 여러 개 사용하는 구조에서는 각 스레드가 다른 프로세서에서 병렬적으로 수행될 수 있어, 병렬성이 극대화됩니다. 
  - 멀티스레드의 단점 
     - (1) 시간, 비용
        - context switching, 동기화로 인한 오버헤드 발생 => 싱글코어 멀티스레드는 느립니다.
     - (2) 동기화 문제
        - 공유 자원 동시 접근 경우를 처리해주어야 합니다.

  - 싱글스레드의 장점 
     - (1) 비용, 시간
        - context switching로 인한 오버헤드 발생하지 않습니다.
     - (2) 동기화 문제 X
        - 동기화 처리 필요가 없습니다. 또한 동기화 처리 비용도 발생하지 않습니다.

  - 싱글스레드의 단점  
     - (1) 비용, 시간
        - context switching로 인한 오버헤드 발생하지 않습니다.
     - (2) 연산량이 많은 작업 시 비효율 발생
        - 연산이 오래 걸리는 작업이 있으면, 해당 작업 끝낼 때까지 기다려야 다음 작업 할 수 있습니다.
     - (3) 에러 처리를 못하는 경우 멈춥니다.
        - 멀티 스레드는 에러 발생 시 새 스레드를 만들어 이를 처리하지만, 싱글 스레드는 대처하지 못할 수 있습니다.

  #### Q) 멀티스레드와 멀티프로세스가 각각 유리한 경우의 예시를 설명해주세요.
  > 둘의 가장 큰 차이는 메모리 공유 여부입니다. 
  - 다른 메모리 침범을 하지 않아야 하는 병렬적인 경우에는 멀티 프로세스를 이용하는 것이 좋습니다. (ex) 미사일 시스템  
  - 멀티스레드는 사용자 응답성이 중요한 프로그램에 사용하는 것이 좋습니다. (ex) 채팅 프로그램

  #### Q) 스레드에서의 동시성과 병렬성에 대해 설명해주세요.
  - 동시성 : 논리적인 동시성 개념입니다. context switching이 빠르게 일어나면서 프로그램이 동시에 수행되는 것처럼 보이는 것입니다. (실제 동시 실행은 아닙니다.)
     - (ex) 하나의 CPU에서 멀티스레드로 작업을 수행하는 경우입니다.
  - 병렬성 : 물리적 동시성 개념입니다. 실제로 동시에 여러 작업이 수행되는 현상입니다. 
     - (ex) 여러개의 CPU에서 멀티스레드로 작업을 수행하는 경우입니다.
  ![image](https://user-images.githubusercontent.com/76711238/226088487-03354b30-f9dd-46ab-b034-b4197b5ffc12.png)

  #### 사진 & 내용 출처 
  - https://velog.io/@gil0127/%EC%8B%B1%EA%B8%80%EC%8A%A4%EB%A0%88%EB%93%9CSingle-thread-vs-%EB%A9%80%ED%8B%B0%EC%8A%A4%EB%A0%88%EB%93%9C-Multi-thread-t5gv4udj
  - https://sas-study.tistory.com/446

---


### PCB와 Context Switching

---


### Process Sheduling 알고리즘에는 어떤 것들이 있나요?

---


### CPU Scheduling이 무엇인가요?

