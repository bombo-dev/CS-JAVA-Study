### 메모리의 연속할당 방식 세 가지를 설명 & 가상메모리
- 고정분할방식
    - 물리메모리를 특정개수로 분할해서 적재하는방식.
    - 내부단편화, 외부단편화 생길수있음

- 가변분할방식
    - 메모리에 적재되는 프로그램에 따라 크기,개수가 동적으로 변하는방식.
    -  외부단편화 문제 생길수있음

빈공간 할당을 위한 전략으론 크게 아래의 3가지 방법이 있다.

최적적합(best)
=> 빈 공간리스트를 검색해 요청한 메모리 크기와 같거나 더 큰 빈 메모리 덩어리를 찾는다. 그후 후보그룹중 가장 작은 크기의 단위를 반환한다. 빈공간 리스트를 한번만 순회하면 반환할 정확한 블럭을 찾을수있다. **전체를 검색해야하기때문에 성능저하가 있을수있다**.

최악 적합(worst)
=> 가장 큰 빈 덩어리를 찾아 요청 크기만큼만 반환하고 남은부분은 빈 공간 리스트에 계속 유지한다. 최적적합에서 가장작은 덩어리를 남기려는 대신 최악적합에서는 가장 큰 덩어리를 남기려고 시도한다. **빈 공간 전체를 검색해야하기때문에 성능 저하가 있을수있다**. 그리고 **단편화**가 발생할수도있다.
=> 운영체제가 제공하는 공간이 넉넉한경우에만 사용할수있을것이다.

최초 적합(first)
=> 요청보다 큰 첫번쨰 블럭을 찾아 요청만큼 반환한다. **블럭 전체를 안뒤져도 되니까 속도가 빠르다는 장점**이있지만 **리스트의 시작부분에 크기가 작은 객체가 많이 생길수있다**는 단점이있다. (주소 기반 정렬을 사용해 리스트를 주소로 정렬해서 단편화를 감소시키는 방법이있긴하다)

- 가상메모리
    - 하드드라이브의 일부를 물리적 메모리로 확장해서 사용하여 컴퓨터가 실제 메모리보다 큰 프로그램을 실행할수있도록 해주는것

    > ####  Q) 메모리 공간 관점으로 위의 전략3가지에 대해 설명해주세요
    - 최초적합방식은 적합한 메모리블록을 발견즉시 반환해주기때문에 사용하지않는 메모리 공간들로 인해 단편화 문제가 생길수있습니다.
    - 최악적합방식은 충분히 큰 메모리블록을 할당하기때문에 메모리 공간 전체를 사용할필요가 없어도 큰 메모리 공간할당으로 인해 내부단편화 문제가 생길수있습니다.
    - 최적적합방식은 충분한 검색후 메모리를 할당하기때문에 위의 3가지 방식중 단편화의 비용이 가장 적다고 볼수있습니다.


    #### Q) 가상메모리가 가능한 이유에 대해 설명해주세요.
    - 프로그램이 실행 프로그램의 메모리상태를 갖고있는 주소공간을 통해 가상메모리와 실제메모리의 매핑을 추적하기때문에 가능하다.
    - MMU가 가상메모리, 물리메모리를 매핑하는 테이블을 사용해서 매핑된정보를 확인할수있기때문에 가능하다.

    > #### Q) 가상메모리로 인해 얻을수있는 이점에 대해 설명해주세요
    - 프로세스 전환시 프로세스를 메모리에 그대로 유지하면서 운영체제가 시분할 시스템을 효율적으로 구현할수있게되었다. (context switching 의 오버헤드 감소)
    - 메모리 의존성(하드웨어 스펙 등)에서 자유로워졌다.
    - 메모리 보호, 관리부분에서 용이하다.
    - 특정 프로세스가 죽어버리더라도 해당 프로세스의 실제영역을 운영체제가 알고있기때문에 자원을 신속히 회수할수있으며, 자원과 메모리공간의 낭비가 없다.

    #### Q) 내부단편화, 외부단편화에대해 설명해주세요
    - 내부단편화 : 필요한 크기보다 더큰 메모리덩어리를 할당하면 할당 덩어리의 내부에서 낭비가 일어나게되는데 이를 내부단편화라고한다.
    - 외부단편화 : 64KB 물리메모리가 있다고 가정할때, 연속되지않은 8KB의 공간이 3개가있을때 20KB크기를 가진 프로세스를 할당하려는경우 요청을 충족할수없는경우를 말한다.
    
    #### Q) 단편화의 문제를 해결할수있는 방법에대해 설명해주세요
    - 압축방식 :  외부단편화 문제를 해결하기위한 수단으로 현재 프로세스를 중단하고 그들의 데이터를 하나의 연속된 공간에 복사하고 세그멘트 레지스터가 새로운 물리 메모리위치를 가리키게 하는 방식으로압축할수있다.세그멘트 복사자체가 비용이 크다는 단점이 있다.
    - 통합 : 단편화로 인해 분산된 메모리공간들을 인접해 있는 것끼리 통합시켜 큰 메모리 공간으로 합치는 기법이다. 압축은 복사후 재배치 과정의 오버헤드가있지만 통합은 인접한 공간들끼리 통합된다는 차이가 있다.
    

        #### Q) 자바의 GC가 무엇인가요
        - 자바에서 동적으로 메모리가 할당되는 Heap영역에서 더이상 사용되지않는 메모리를 회수해가는것

   
    > #### Q) 가상메모리는 대략 어느정도의크기를 가지고 있나요?
    - 이론적으로는 무한대지만 물리 메모리의 크기, CPU비트수에 의해 결정된다. 
    - 32bit의 운영체제로 가정할때 2^32 = 4GB크기를 가지고있다.
        

    > #### Q) 프레임 할당은 어떻게 이루어지고, 프레임 할당하는방식중 한가지만 설명해주세요
    - 프로세스마다 사용하는 페이지가 다르기때문에 크기는 그때그때 달라질수있다. 이를고려해 프레임을 할당하는 방식인 **동적할당**이 존재한다.
    - 동적할당 방식중 Working Set Model 방식이있는데 이는 시간을 측정해서 주로 참조하는 페이지를 계산하고 이값을통해 프레임을 할당하는방식이다.
    - PFF는 페이지결함의 비율을 측정하여 프레임을 할당하는 방식이다. 프로세스의 페이지 부재율을 주기적으로 조사하고 이 값에 근거해서 각 프로세스에 할당할 메모리 양을 동적으로 조절하는 방식

    > #### Q) 자바에서도 가상메모리를 사용할까?
    - GC를통해 자동메모리관리를 사용한다. 
    - 자바의 가상메모리는 JVM수준에서 관리되는반면 C의 가상메모리는 운영체제에서 직접관리되는다는 차이점이 있다.
